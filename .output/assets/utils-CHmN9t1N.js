import{c as z,g as H,a as J}from"./vendor-DMhkIe_K.js";var G={exports:{}};G.exports;(function(g){(function(b,l,y){function u(t){var e=this,i=s();e.next=function(){var n=2091639*e.s0+e.c*23283064365386963e-26;return e.s0=e.s1,e.s1=e.s2,e.s2=n-(e.c=n|0)},e.c=1,e.s0=i(" "),e.s1=i(" "),e.s2=i(" "),e.s0-=i(t),e.s0<0&&(e.s0+=1),e.s1-=i(t),e.s1<0&&(e.s1+=1),e.s2-=i(t),e.s2<0&&(e.s2+=1),i=null}function p(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function I(t,e){var i=new u(t),n=e&&e.state,r=i.next;return r.int32=function(){return i.next()*4294967296|0},r.double=function(){return r()+(r()*2097152|0)*11102230246251565e-32},r.quick=r,n&&(typeof n=="object"&&p(n,i),r.state=function(){return p(i,{})}),r}function s(){var t=4022871197,e=function(i){i=String(i);for(var n=0;n<i.length;n++){t+=i.charCodeAt(n);var r=.02519603282416938*t;t=r>>>0,r-=t,r*=t,t=r>>>0,r-=t,t+=r*4294967296}return(t>>>0)*23283064365386963e-26};return e}l&&l.exports?l.exports=I:this.alea=I})(z,g)})(G);var K=G.exports,B={exports:{}};B.exports;(function(g){(function(b,l,y){function u(s){var t=this,e="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var n=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^n^n>>>8},s===(s|0)?t.x=s:e+=s;for(var i=0;i<e.length+64;i++)t.x^=e.charCodeAt(i)|0,t.next()}function p(s,t){return t.x=s.x,t.y=s.y,t.z=s.z,t.w=s.w,t}function I(s,t){var e=new u(s),i=t&&t.state,n=function(){return(e.next()>>>0)/4294967296};return n.double=function(){do var r=e.next()>>>11,o=(e.next()>>>0)/4294967296,f=(r+o)/(1<<21);while(f===0);return f},n.int32=e.next,n.quick=n,i&&(typeof i=="object"&&p(i,e),n.state=function(){return p(e,{})}),n}l&&l.exports?l.exports=I:this.xor128=I})(z,g)})(B);var Q=B.exports,L={exports:{}};L.exports;(function(g){(function(b,l,y){function u(s){var t=this,e="";t.next=function(){var n=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(n^n<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,s===(s|0)?t.x=s:e+=s;for(var i=0;i<e.length+64;i++)t.x^=e.charCodeAt(i)|0,i==e.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function p(s,t){return t.x=s.x,t.y=s.y,t.z=s.z,t.w=s.w,t.v=s.v,t.d=s.d,t}function I(s,t){var e=new u(s),i=t&&t.state,n=function(){return(e.next()>>>0)/4294967296};return n.double=function(){do var r=e.next()>>>11,o=(e.next()>>>0)/4294967296,f=(r+o)/(1<<21);while(f===0);return f},n.int32=e.next,n.quick=n,i&&(typeof i=="object"&&p(i,e),n.state=function(){return p(e,{})}),n}l&&l.exports?l.exports=I:this.xorwow=I})(z,g)})(L);var W=L.exports,N={exports:{}};N.exports;(function(g){(function(b,l,y){function u(s){var t=this;t.next=function(){var i=t.x,n=t.i,r,o;return r=i[n],r^=r>>>7,o=r^r<<24,r=i[n+1&7],o^=r^r>>>10,r=i[n+3&7],o^=r^r>>>3,r=i[n+4&7],o^=r^r<<7,r=i[n+7&7],r=r^r<<13,o^=r^r<<9,i[n]=o,t.i=n+1&7,o};function e(i,n){var r,o=[];if(n===(n|0))o[0]=n;else for(n=""+n,r=0;r<n.length;++r)o[r&7]=o[r&7]<<15^n.charCodeAt(r)+o[r+1&7]<<13;for(;o.length<8;)o.push(0);for(r=0;r<8&&o[r]===0;++r);for(r==8?o[7]=-1:o[r],i.x=o,i.i=0,r=256;r>0;--r)i.next()}e(t,s)}function p(s,t){return t.x=s.x.slice(),t.i=s.i,t}function I(s,t){s==null&&(s=+new Date);var e=new u(s),i=t&&t.state,n=function(){return(e.next()>>>0)/4294967296};return n.double=function(){do var r=e.next()>>>11,o=(e.next()>>>0)/4294967296,f=(r+o)/(1<<21);while(f===0);return f},n.int32=e.next,n.quick=n,i&&(i.x&&p(i,e),n.state=function(){return p(e,{})}),n}l&&l.exports?l.exports=I:this.xorshift7=I})(z,g)})(N);var Y=N.exports,R={exports:{}};R.exports;(function(g){(function(b,l,y){function u(s){var t=this;t.next=function(){var i=t.w,n=t.X,r=t.i,o,f;return t.w=i=i+1640531527|0,f=n[r+34&127],o=n[r=r+1&127],f^=f<<13,o^=o<<17,f^=f>>>15,o^=o>>>12,f=n[r]=f^o,t.i=r,f+(i^i>>>16)|0};function e(i,n){var r,o,f,x,v,C=[],d=128;for(n===(n|0)?(o=n,n=null):(n=n+"\0",o=0,d=Math.max(d,n.length)),f=0,x=-32;x<d;++x)n&&(o^=n.charCodeAt((x+32)%n.length)),x===0&&(v=o),o^=o<<10,o^=o>>>15,o^=o<<4,o^=o>>>13,x>=0&&(v=v+1640531527|0,r=C[x&127]^=o+v,f=r==0?f+1:0);for(f>=128&&(C[(n&&n.length||0)&127]=-1),f=127,x=4*128;x>0;--x)o=C[f+34&127],r=C[f=f+1&127],o^=o<<13,r^=r<<17,o^=o>>>15,r^=r>>>12,C[f]=o^r;i.w=v,i.X=C,i.i=f}e(t,s)}function p(s,t){return t.i=s.i,t.w=s.w,t.X=s.X.slice(),t}function I(s,t){s==null&&(s=+new Date);var e=new u(s),i=t&&t.state,n=function(){return(e.next()>>>0)/4294967296};return n.double=function(){do var r=e.next()>>>11,o=(e.next()>>>0)/4294967296,f=(r+o)/(1<<21);while(f===0);return f},n.int32=e.next,n.quick=n,i&&(i.X&&p(i,e),n.state=function(){return p(e,{})}),n}l&&l.exports?l.exports=I:this.xor4096=I})(z,g)})(R);var Z=R.exports,k={exports:{}};k.exports;(function(g){(function(b,l,y){function u(s){var t=this,e="";t.next=function(){var n=t.b,r=t.c,o=t.d,f=t.a;return n=n<<25^n>>>7^r,r=r-o|0,o=o<<24^o>>>8^f,f=f-n|0,t.b=n=n<<20^n>>>12^r,t.c=r=r-o|0,t.d=o<<16^r>>>16^f,t.a=f-n|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,s===Math.floor(s)?(t.a=s/4294967296|0,t.b=s|0):e+=s;for(var i=0;i<e.length+20;i++)t.b^=e.charCodeAt(i)|0,t.next()}function p(s,t){return t.a=s.a,t.b=s.b,t.c=s.c,t.d=s.d,t}function I(s,t){var e=new u(s),i=t&&t.state,n=function(){return(e.next()>>>0)/4294967296};return n.double=function(){do var r=e.next()>>>11,o=(e.next()>>>0)/4294967296,f=(r+o)/(1<<21);while(f===0);return f},n.int32=e.next,n.quick=n,i&&(typeof i=="object"&&p(i,e),n.state=function(){return p(e,{})}),n}l&&l.exports?l.exports=I:this.tychei=I})(z,g)})(k);var tt=k.exports,F={exports:{}};const nt={},et=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"})),rt=H(et);(function(g){(function(b,l,y){var u=256,p=6,I=52,s="random",t=y.pow(u,p),e=y.pow(2,I),i=e*2,n=u-1,r;function o(a,c,m){var w=[];c=c==!0?{entropy:!0}:c||{};var M=C(v(c.entropy?[a,h(l)]:a??d(),3),w),S=new f(w),j=function(){for(var A=S.g(p),X=t,E=0;A<e;)A=(A+E)*u,X*=u,E=S.g(1);for(;A>=i;)A/=2,X/=2,E>>>=1;return(A+E)/X};return j.int32=function(){return S.g(4)|0},j.quick=function(){return S.g(4)/4294967296},j.double=j,C(h(S.S),l),(c.pass||m||function(A,X,E,_){return _&&(_.S&&x(_,S),A.state=function(){return x(S,{})}),E?(y[s]=A,X):A})(j,M,"global"in c?c.global:this==y,c.state)}function f(a){var c,m=a.length,w=this,M=0,S=w.i=w.j=0,j=w.S=[];for(m||(a=[m++]);M<u;)j[M]=M++;for(M=0;M<u;M++)j[M]=j[S=n&S+a[M%m]+(c=j[M])],j[S]=c;(w.g=function(A){for(var X,E=0,_=w.i,P=w.j,$=w.S;A--;)X=$[_=n&_+1],E=E*u+$[n&($[_]=$[P=n&P+X])+($[P]=X)];return w.i=_,w.j=P,E})(u)}function x(a,c){return c.i=a.i,c.j=a.j,c.S=a.S.slice(),c}function v(a,c){var m=[],w=typeof a,M;if(c&&w=="object")for(M in a)try{m.push(v(a[M],c-1))}catch{}return m.length?m:w=="string"?a:a+"\0"}function C(a,c){for(var m=a+"",w,M=0;M<m.length;)c[n&M]=n&(w^=c[n&M]*19)+m.charCodeAt(M++);return h(c)}function d(){try{var a;return r&&(a=r.randomBytes)?a=a(u):(a=new Uint8Array(u),(b.crypto||b.msCrypto).getRandomValues(a)),h(a)}catch{var c=b.navigator,m=c&&c.plugins;return[+new Date,b,m,b.screen,h(l)]}}function h(a){return String.fromCharCode.apply(0,a)}if(C(y.random(),l),g.exports){g.exports=o;try{r=rt}catch{}}else y["seed"+s]=o})(typeof self<"u"?self:z,[],Math)})(F);var it=F.exports,ot=K,st=Q,ct=W,at=Y,lt=Z,ft=tt,D=it;D.alea=ot;D.xor128=st;D.xorwow=ct;D.xorshift7=at;D.xor4096=lt;D.tychei=ft;var ut=D;const xt=J(ut),U=xt("cluster-tendency-2024");function V(g,b){const l=[],y=new Array(g.length).fill(0).map((u,p)=>p);for(let u=0;u<b&&y.length>0;u++){const p=Math.floor(U()*y.length),I=y.splice(p,1)[0];l.push(g[I])}return l}function ht(g,b,l){const y=[],u=Math.floor(l()*g.length);y.push([...g[u]]);for(let p=1;p<b;p++){const I=g.map(i=>Math.min(...y.map(n=>O(i,n)))),s=I.reduce((i,n)=>i+n,0);let t=l()*s,e=0;for(;t>0&&e<I.length;)t-=I[e],e++;y.push([...g[e-1]])}return y}const pt=(g,b)=>{if(!g||!g.data)throw new Error("Invalid ImageData");if(b<=0||b>g.width*g.height)throw new Error("Invalid number of clusters");const{width:l,height:y,data:u}=g,p=l*y,I=p>1e4?8:4,s=[];for(let x=0;x<u.length;x+=4*I)s.push([u[x],u[x+1],u[x+2]]);let t=[],e=1/0,i=0;const n=10;for(let x=0;x<n;x++){const v=ht(s,b,U);let C=new Array(s.length).fill(0);for(let d=0;d<5;d++){let h=!1;i=0;for(let a=0;a<s.length;a++){let c=1/0,m=0;for(let w=0;w<b;w++){const M=O(s[a],v[w]);M<c&&(c=M,m=w)}i+=c,C[a]!==m&&(h=!0,C[a]=m)}if(!h)break;for(let a=0;a<b;a++){const c=s.filter((m,w)=>C[w]===a);c.length>0&&(v[a]=[c.reduce((m,w)=>m+w[0],0)/c.length,c.reduce((m,w)=>m+w[1],0)/c.length,c.reduce((m,w)=>m+w[2],0)/c.length])}}i<e&&(e=i,t=v.map(d=>[...d]),[...C])}const r=new Array(p);for(let x=0;x<p;x++){const v=x*4,C=[u[v],u[v+1],u[v+2]];let d=0,h=1/0;for(let a=0;a<b;a++){const c=q(C,t[a]);c<h&&(h=c,d=a)}r[x]=d}const o=new ImageData(l,y),f=T(b);for(let x=0;x<r.length;x++){const v=r[x],C=x*4;o.data[C]=f[v][0],o.data[C+1]=f[v][1],o.data[C+2]=f[v][2],o.data[C+3]=255}return{imageData:o,labels:r,centroids:t}},vt=(g,b,l)=>{if(!g||!g.data)throw new Error("Invalid ImageData");if(b<=0||l<=0)throw new Error("Invalid epsilon or minSamples value");const{width:y,height:u,data:p}=g,I=y*u,s=Math.min(2e3,I),e=V(Array.from({length:I},(d,h)=>h),s).map(d=>{const h=d*4;return{rgb:[p[h],p[h+1],p[h+2]],index:d}}),i=new Array(e.length).fill(-1);let n=0;const r=b*100;function o(d){const h=[],a=e[d].rgb;for(let c=0;c<e.length;c++)c!==d&&q(a,e[c].rgb)<=r&&h.push(c);return h}for(let d=0;d<e.length;d++){if(i[d]!==-1)continue;const h=o(d);if(h.length<l){i[d]=-2;continue}i[d]=n;const a=[...h];for(;a.length>0;){const c=a.shift();if(i[c]===-2&&(i[c]=n),i[c]!==-1)continue;i[c]=n;const m=o(c);if(m.length>=l)for(const w of m)a.includes(w)||a.push(w)}n++}const f=[];for(let d=0;d<n;d++){const h=e.filter((a,c)=>i[c]===d);if(h.length===0){f.push([128,128,128]);continue}f.push([h.reduce((a,c)=>a+c.rgb[0],0)/h.length,h.reduce((a,c)=>a+c.rgb[1],0)/h.length,h.reduce((a,c)=>a+c.rgb[2],0)/h.length])}const x=new Array(I).fill(-2);for(let d=0;d<I;d++){const h=d*4,a=[p[h],p[h+1],p[h+2]];let c=-2,m=1/0;for(let w=0;w<f.length;w++){const M=q(a,f[w]);M<m&&(m=M,c=w)}x[d]=m<=r?c:-2}const v=new ImageData(y,u),C=T(Math.max(n,1));for(let d=0;d<I;d++){const h=x[d],a=h>=0?C[h%C.length]:[0,0,0],c=d*4;v.data[c]=a[0],v.data[c+1]=a[1],v.data[c+2]=a[2],v.data[c+3]=255}return{imageData:v,labels:x,centroids:f}},wt=(g,b)=>{if(!g||!g.data)throw new Error("Invalid ImageData");if(b<=0)throw new Error("Invalid bandwidth value");const{width:l,height:y,data:u}=g,p=l*y,I=Math.min(1e3,p),t=V(Array.from({length:p},(x,v)=>v),I).map(x=>{const v=x*4;return[u[v],u[v+1],u[v+2]]}),e=[],i=Math.pow(b*50,2),n=Math.min(50,t.length);for(let x=0;x<n;x++){let v=[...t[x]];for(let d=0;d<3;d++){const h=[];for(const m of t)O(m,v)<=i&&h.push(m);if(h.length===0)break;const a=[h.reduce((m,w)=>m+w[0],0)/h.length,h.reduce((m,w)=>m+w[1],0)/h.length,h.reduce((m,w)=>m+w[2],0)/h.length],c=q(a,v);if(v=a,c<5)break}let C=!1;for(const d of e)if(q(d,v)<b*30){C=!0;break}C||e.push(v)}e.length===0&&e.push([128,128,128]);const r=new Array(p);for(let x=0;x<p;x++){const v=x*4,C=[u[v],u[v+1],u[v+2]];let d=0,h=1/0;for(let a=0;a<e.length;a++){const c=q(C,e[a]);c<h&&(h=c,d=a)}r[x]=d}const o=new ImageData(l,y),f=T(e.length);for(let x=0;x<r.length;x++){const v=r[x],C=x*4;o.data[C]=f[v][0],o.data[C+1]=f[v][1],o.data[C+2]=f[v][2],o.data[C+3]=255}return{imageData:o,labels:r,centroids:e}};function q(g,b){return Math.sqrt(g.reduce((l,y,u)=>l+Math.pow(y-(b[u]||0),2),0))}function O(g,b){return g.reduce((l,y,u)=>l+Math.pow(y-(b[u]||0),2),0)}function T(g){const b=[];for(let l=0;l<g;l++){const y=l*360/g,u=dt(y/360,.8,.6);b.push(u)}return b}function dt(g,b,l){let y,u,p;{const I=(e,i,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<.16666666666666666?e+(i-e)*6*n:n<.5?i:n<.6666666666666666?e+(i-e)*(.6666666666666666-n)*6:e),s=l+b-l*b,t=2*l-s;y=I(t,s,g+1/3),u=I(t,s,g),p=I(t,s,g-1/3)}return[Math.round(y*255),Math.round(u*255),Math.round(p*255)]}export{vt as d,pt as k,wt as m};
